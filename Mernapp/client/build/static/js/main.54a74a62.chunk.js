(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{130:function(e,a,t){},131:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(60),c=t.n(o),l=(t(74),t(14)),s=t(15),i=t(18),u=t(16),p=t(19),m=t(36),d=t(20),h=t(134),b=t(37),g=t.n(b),f={"Content-Type":"application/json"},w="http://localhost:8800",v=function(e,a){return g.a.post("".concat(w,"/user/login"),{email:e,password:a},{headers:f})},E=function(e){return g.a.post("".concat(w,"/user/signup"),e,{headers:f})},j=function(){return null!==localStorage.getItem("token")},k=function(){localStorage.clear()},O=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(i.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).disconnect=function(){k(),window.location="/"},t}return Object(p.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"Dashboard"},r.a.createElement("h1",null,"Dashboard"),r.a.createElement(h.a,{onClick:this.disconnect,block:!0,bsSize:"large",type:"submit"},"Se d\ufffdconnecter"))}}]),a}(r.a.Component),y=t(28),C=t(23),S=t.n(C),x=t(29),I=t(135),z=t(132),A=t(133),N=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(i.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={email:"",password:""},t.send=Object(x.a)(S.a.mark((function e(){var a,n,r,o,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.state,n=a.email,r=a.password,n&&0!==n.length){e.next=3;break}return e.abrupt("return");case 3:if(r&&0!==r.length){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,v(n,r);case 8:o=e.sent,c=o.data,localStorage.setItem("token",c.token),window.location="/dashboard",e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[5,14]])}))),t.handleChange=function(e){t.setState(Object(y.a)({},e.target.id,e.target.value))},t}return Object(p.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.state,a=e.email,t=e.password;return r.a.createElement("div",{className:"Login"},r.a.createElement(I.a,{controlId:"email",bsSize:"large"},r.a.createElement(z.a,null,"Email"),r.a.createElement(A.a,{autoFocus:!0,type:"email",value:a,onChange:this.handleChange})),r.a.createElement(I.a,{controlId:"password",bsSize:"large"},r.a.createElement(z.a,null,"Password"),r.a.createElement(A.a,{value:t,onChange:this.handleChange,type:"password"})),r.a.createElement(h.a,{onClick:this.send,block:!0,bsSize:"large",type:"submit"},"Connexion"))}}]),a}(r.a.Component),F=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(i.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={email:"",password:"",cpassword:""},t.send=Object(x.a)(S.a.mark((function e(){var a,n,r,o,c,l;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("ici"),a=t.state,n=a.email,r=a.password,o=a.cpassword,n&&0!==n.length){e.next=4;break}return e.abrupt("return");case 4:if(r&&0!==r.length&&r===o){e.next=6;break}return e.abrupt("return");case 6:return e.prev=6,console.log("la1"),e.next=10,E({email:n,password:r});case 10:c=e.sent,l=c.data,console.log("la2"),localStorage.setItem("token",l.token),window.location="/dashboard",console.log("laF"),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(6),console.error(e.t0);case 21:case"end":return e.stop()}}),e,null,[[6,18]])}))),t.handleChange=function(e){t.setState(Object(y.a)({},e.target.id,e.target.value))},t}return Object(p.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.state,a=e.email,t=e.password,n=e.cpassword;return r.a.createElement("div",{className:"Login"},r.a.createElement(I.a,{controlId:"email",bsSize:"large"},r.a.createElement(z.a,null,"Email"),r.a.createElement(A.a,{autoFocus:!0,type:"email",value:a,onChange:this.handleChange})),r.a.createElement(I.a,{controlId:"password",bsSize:"large"},r.a.createElement(z.a,null,"Password"),r.a.createElement(A.a,{value:t,onChange:this.handleChange,type:"password"})),r.a.createElement(I.a,{controlId:"cpassword",bsSize:"large"},r.a.createElement(z.a,null,"Confirm Password"),r.a.createElement(A.a,{value:n,onChange:this.handleChange,type:"password"})),r.a.createElement(h.a,{onClick:this.send,block:!0,bsSize:"large",type:"submit"},"Inscription"))}}]),a}(r.a.Component),P=t(68),B=function(e){var a=e.component,t=Object(P.a)(e,["component"]);return r.a.createElement(d.b,Object.assign({},t,{render:function(e){return!1===j()?r.a.createElement(d.a,{to:"/"}):r.a.createElement(a,e)}}))},D=(t(130),function(e){function a(){return Object(l.a)(this,a),Object(i.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"App-content"},r.a.createElement(m.a,null,r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/",component:N}),r.a.createElement(d.b,{exact:!0,path:"/signup",component:F}),r.a.createElement(B,{path:"/dashboard",component:O})))))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},69:function(e,a,t){e.exports=t(131)},74:function(e,a,t){}},[[69,1,2]]]);
//# sourceMappingURL=main.54a74a62.chunk.js.map